{"ast":null,"code":"var _jsxFileName = \"/Users/tomer/Documents/Tomer/Personal-Projects/Inventory-Managment-Project/Frontend/src/components/SendReport.tsx\",\n  _s = $RefreshSig$();\n// src/components/SendReport.tsx\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"../utils/axiosInstance\"; // Ensure this is correctly set up to handle API requests\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\n// Import MUI components\nimport { Container, Typography, Table, TableHead, TableBody, TableRow, TableCell, TextField, Button, Card, CircularProgress, Snackbar, Alert } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SendReport = () => {\n  _s();\n  const {\n    branchId\n  } = useParams();\n  const {\n    role\n  } = useContext(AuthContext); // Access user role from context\n  const navigate = useNavigate();\n  const [items, setItems] = useState([]);\n  const [orderData, setOrderData] = useState({}); // Renamed from stockData\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  useEffect(() => {\n    if (!branchId) {\n      setError(\"No branch ID provided.\");\n      return;\n    }\n    setLoading(true);\n    axios.get(`/api/${branchId}/items`).then(response => {\n      const filteredItems = response.data.filter(item => item.branch === branchId);\n      setItems(filteredItems);\n\n      // Initialize orderData with 0 for each item\n      const initialOrder = {};\n      filteredItems.forEach(item => {\n        initialOrder[item._id] = 0; // Default order quantity to 0\n      });\n      setOrderData(initialOrder);\n    }).catch(err => {\n      console.error(err);\n      setError(\"Failed to fetch items. Please try again later.\");\n    }).finally(() => setLoading(false));\n  }, [branchId]);\n  const handleOrderChange = (e, itemId) => {\n    const value = parseInt(e.target.value, 10);\n    if (!isNaN(value) && value >= 0) {\n      setOrderData({\n        ...orderData,\n        [itemId]: value\n      });\n    }\n  };\n  const handleSubmit = async () => {\n    setSubmitting(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    // Prepare the stock report data with order quantities\n    const reportData = items.map(item => ({\n      itemId: item._id,\n      quantityToOrder: orderData[item._id] // Changed field name\n    }));\n    try {\n      const response = await axios.post(`/api/${branchId}/sendreport`, {\n        stockReport: reportData\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      setSuccess(\"דוח נשלח בהצלחה. נשלח אימייל עם פרטי ההזמנה.\");\n      // Optionally, navigate to another page\n      // navigate(`/branch/${branchId}/items`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"אירעה שגיאה בשליחת הדוח. אנא נסה שוב.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Handle closing of Snackbar\n  const handleCloseSnackbar = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setError(\"\");\n    setSuccess(\"\");\n  };\n\n  // Ensure that only employees can access this page\n  useEffect(() => {\n    if (role !== \"employee\") {\n      setError(\"אין לך הרשאה לגשת לעמוד זה.\");\n      // Optionally, navigate away\n      // navigate(\"/\");\n    }\n  }, [role, navigate]);\n  const isFormValid = () => {\n    return items.every(item => {\n      const order = orderData[item._id];\n      return order !== undefined && order >= 0;\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      align: \"center\",\n      gutterBottom: true,\n      children: \"\\u05D3\\u05D5\\\"\\u05D7 \\u05D4\\u05D6\\u05E0\\u05D4 \\u05DC\\u05DE\\u05DC\\u05D0\\u05D9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        backgroundColor: \"rgba(255, 255, 255, 0.85)\",\n        borderRadius: 4,\n        boxShadow: 6,\n        padding: {\n          xs: 2,\n          md: 4\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u05E4\\u05E8\\u05D9\\u05D8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u05EA\\u05D9\\u05D0\\u05D5\\u05E8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u05DE\\u05DC\\u05D0\\u05D9 \\u05E0\\u05D5\\u05DB\\u05D7\\u05D9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u05DB\\u05DE\\u05D5\\u05EA \\u05DC\\u05D4\\u05D6\\u05DE\\u05E0\\u05D4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: items.map(item => /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.description || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"number\",\n                inputProps: {\n                  min: 0\n                },\n                value: orderData[item._id] || \"\",\n                onChange: e => handleOrderChange(e, item._id),\n                variant: \"outlined\",\n                size: \"small\",\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: handleSubmit,\n        sx: {\n          mt: 3,\n          backgroundColor: \"#333333\",\n          // Dark background color\n          color: \"#ffffff\",\n          // White text color\n          \"&:hover\": {\n            backgroundColor: \"#555555\" // Slightly lighter dark on hover\n          }\n        },\n        disabled: submitting || !isFormValid(),\n        children: submitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 25\n        }, this) : \"שלח דו\\\"ח\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!error,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: \"error\",\n        sx: {\n          width: \"100%\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!success,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: \"success\",\n        sx: {\n          width: \"100%\"\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_s(SendReport, \"UfWeWryEogK48BAXDm+plBxswn0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SendReport;\nexport default SendReport;\nvar _c;\n$RefreshReg$(_c, \"SendReport\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","useNavigate","useParams","AuthContext","Container","Typography","Table","TableHead","TableBody","TableRow","TableCell","TextField","Button","Card","CircularProgress","Snackbar","Alert","jsxDEV","_jsxDEV","SendReport","_s","branchId","role","navigate","items","setItems","orderData","setOrderData","loading","setLoading","submitting","setSubmitting","error","setError","success","setSuccess","get","then","response","filteredItems","data","filter","item","branch","initialOrder","forEach","_id","catch","err","console","finally","handleOrderChange","e","itemId","value","parseInt","target","isNaN","handleSubmit","reportData","map","quantityToOrder","post","stockReport","headers","_err$response","_err$response$data","message","handleCloseSnackbar","event","reason","isFormValid","every","order","undefined","maxWidth","sx","display","justifyContent","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","mb","variant","align","gutterBottom","backgroundColor","borderRadius","boxShadow","padding","xs","md","hover","name","description","quantity","type","inputProps","min","onChange","size","fullWidth","onClick","color","disabled","open","autoHideDuration","onClose","severity","width","_c","$RefreshReg$"],"sources":["/Users/tomer/Documents/Tomer/Personal-Projects/Inventory-Managment-Project/Frontend/src/components/SendReport.tsx"],"sourcesContent":["// src/components/SendReport.tsx\n\nimport React, { useState, useEffect, useContext, ChangeEvent } from \"react\";\nimport axios from \"../utils/axiosInstance\"; // Ensure this is correctly set up to handle API requests\nimport { IItem, IStockReport } from \"../types\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\n// Import MUI components\nimport {\n  Container,\n  Typography,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  TextField,\n  Button,\n  Card,\n  CircularProgress,\n  Snackbar,\n  Alert,\n} from \"@mui/material\";\n\nconst SendReport: React.FC = () => {\n  const { branchId } = useParams<{ branchId: string }>();\n  const { role } = useContext(AuthContext); // Access user role from context\n  const navigate = useNavigate();\n\n  const [items, setItems] = useState<IItem[]>([]);\n  const [orderData, setOrderData] = useState<Record<string, number>>({}); // Renamed from stockData\n  const [loading, setLoading] = useState<boolean>(false);\n  const [submitting, setSubmitting] = useState<boolean>(false);\n  const [error, setError] = useState<string>(\"\");\n  const [success, setSuccess] = useState<string>(\"\");\n\n  useEffect(() => {\n    if (!branchId) {\n      setError(\"No branch ID provided.\");\n      return;\n    }\n\n    setLoading(true);\n    axios\n      .get<IItem[]>(`/api/${branchId}/items`)\n      .then((response) => {\n        const filteredItems = response.data.filter(\n          (item) => item.branch === branchId\n        );\n        setItems(filteredItems);\n\n        // Initialize orderData with 0 for each item\n        const initialOrder: Record<string, number> = {};\n        filteredItems.forEach((item) => {\n          initialOrder[item._id] = 0; // Default order quantity to 0\n        });\n        setOrderData(initialOrder);\n      })\n      .catch((err) => {\n        console.error(err);\n        setError(\"Failed to fetch items. Please try again later.\");\n      })\n      .finally(() => setLoading(false));\n  }, [branchId]);\n\n  const handleOrderChange = (\n    e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n    itemId: string\n  ) => {\n    const value = parseInt(e.target.value, 10);\n    if (!isNaN(value) && value >= 0) {\n      setOrderData({\n        ...orderData,\n        [itemId]: value,\n      });\n    }\n  };\n\n  const handleSubmit = async () => {\n    setSubmitting(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    // Prepare the stock report data with order quantities\n    const reportData: IStockReport[] = items.map((item) => ({\n      itemId: item._id,\n      quantityToOrder: orderData[item._id], // Changed field name\n    }));\n\n    try {\n      const response = await axios.post(\n        `/api/${branchId}/sendreport`,\n        { stockReport: reportData },\n        { headers: { \"Content-Type\": \"application/json\" } }\n      );\n\n      setSuccess(\"דוח נשלח בהצלחה. נשלח אימייל עם פרטי ההזמנה.\");\n      // Optionally, navigate to another page\n      // navigate(`/branch/${branchId}/items`);\n    } catch (err: any) {\n      console.error(err);\n      setError(\n        err.response?.data?.message ||\n          \"אירעה שגיאה בשליחת הדוח. אנא נסה שוב.\"\n      );\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Handle closing of Snackbar\n  const handleCloseSnackbar = (\n    event?: React.SyntheticEvent | Event,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setError(\"\");\n    setSuccess(\"\");\n  };\n\n  // Ensure that only employees can access this page\n  useEffect(() => {\n    if (role !== \"employee\") {\n      setError(\"אין לך הרשאה לגשת לעמוד זה.\");\n      // Optionally, navigate away\n      // navigate(\"/\");\n    }\n  }, [role, navigate]);\n\n  const isFormValid = () => {\n    return items.every((item) => {\n      const order = orderData[item._id];\n      return order !== undefined && order >= 0;\n    });\n  };\n\n  if (loading) {\n    return (\n      <Container\n        maxWidth=\"md\"\n        sx={{ display: \"flex\", justifyContent: \"center\", mt: 4 }}\n      >\n        <CircularProgress />\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\n      <Typography variant=\"h4\" align=\"center\" gutterBottom>\n        דו\"ח הזנה למלאי\n      </Typography>\n\n      <Card\n        sx={{\n          backgroundColor: \"rgba(255, 255, 255, 0.85)\",\n          borderRadius: 4,\n          boxShadow: 6,\n          padding: { xs: 2, md: 4 },\n        }}\n      >\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell><strong>פריט</strong></TableCell>\n              <TableCell><strong>תיאור</strong></TableCell>\n              <TableCell><strong>מלאי נוכחי</strong></TableCell> {/* Current Stock */}\n              <TableCell><strong>כמות להזמנה</strong></TableCell> {/* Order Quantity */}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {items.map((item) => (\n              <TableRow key={item._id} hover>\n                <TableCell>{item.name}</TableCell>\n                <TableCell>{item.description || \"N/A\"}</TableCell>\n                <TableCell>{item.quantity}</TableCell> {/* Display Current Stock */}\n                <TableCell>\n                  <TextField\n                    type=\"number\"\n                    inputProps={{ min: 0 }}\n                    value={orderData[item._id] || \"\"}\n                    onChange={(e) => handleOrderChange(e, item._id)}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    fullWidth\n                  />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n\n        <Button\n          variant=\"contained\"\n          onClick={handleSubmit}\n          sx={{\n            mt: 3,\n            backgroundColor: \"#333333\", // Dark background color\n            color: \"#ffffff\", // White text color\n            \"&:hover\": {\n              backgroundColor: \"#555555\", // Slightly lighter dark on hover\n            },\n          }}\n          disabled={submitting || !isFormValid()}\n        >\n          {submitting ? <CircularProgress size={24} /> : \"שלח דו\\\"ח\"}\n        </Button>\n      </Card>\n\n      {/* Error Snackbar */}\n      <Snackbar\n        open={!!error}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n      >\n        <Alert onClose={handleCloseSnackbar} severity=\"error\" sx={{ width: \"100%\" }}>\n          {error}\n        </Alert>\n      </Snackbar>\n\n      {/* Success Snackbar */}\n      <Snackbar\n        open={!!success}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n      >\n        <Alert onClose={handleCloseSnackbar} severity=\"success\" sx={{ width: \"100%\" }}>\n          {success}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default SendReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}