{"ast":null,"code":"var _jsxFileName = \"/Users/tomer/Documents/Tomer/Personal-Projects/Inventory-Managment-Project/Frontend/src/pages/CreateBranch.tsx\",\n  _s = $RefreshSig$();\n// src/pages/CreateBranch.tsx\n\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createBranch } from '../services/branchService';\nimport { AuthContext } from '../context/AuthContext';\n\n// Import MUI components\nimport { Container, Typography, TextField, Button, Alert } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateBranch = () => {\n  _s();\n  const {\n    role\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n  if (role !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      color: \"error\",\n      children: \"Access Denied\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(false);\n    if (!name.trim() || !address.trim()) {\n      setError(\"Name and Address are required.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      await createBranch({\n        name: name.trim(),\n        address: address.trim()\n      });\n      setSuccess(true);\n      setName(\"\");\n      setAddress(\"\");\n      // Optionally, navigate to branches list or another page\n      navigate(0); // Reload the page to fetch new branches\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error creating branch:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to create branch.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: \"Create New Branch\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        mb: 2\n      },\n      children: \"Branch created successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Branch Name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        fullWidth: true,\n        required: true,\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Address\",\n        value: address,\n        onChange: e => setAddress(e.target.value),\n        fullWidth: true,\n        required: true,\n        multiline: true,\n        rows: 3,\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: loading,\n        children: loading ? 'Creating...' : 'Create Branch'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateBranch, \"LFuoFDmcr+2oEq9J/GmyoZvggr4=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateBranch;\nexport default CreateBranch;\nvar _c;\n$RefreshReg$(_c, \"CreateBranch\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","createBranch","AuthContext","Container","Typography","TextField","Button","Alert","jsxDEV","_jsxDEV","CreateBranch","_s","role","navigate","name","setName","address","setAddress","error","setError","success","setSuccess","loading","setLoading","variant","color","children","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","e","preventDefault","trim","err","_err$response","_err$response$data","console","response","data","message","maxWidth","sx","mt","gutterBottom","severity","mb","onSubmit","label","value","onChange","target","fullWidth","required","multiline","rows","type","disabled","_c","$RefreshReg$"],"sources":["/Users/tomer/Documents/Tomer/Personal-Projects/Inventory-Managment-Project/Frontend/src/pages/CreateBranch.tsx"],"sourcesContent":["// src/pages/CreateBranch.tsx\n\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createBranch } from '../services/branchService';\nimport { AuthContext } from '../context/AuthContext';\n\n// Import MUI components\nimport {\n  Container,\n  Typography,\n  TextField,\n  Button,\n  Alert,\n} from \"@mui/material\";\n\nconst CreateBranch: React.FC = () => {\n  const { role } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  if (role !== 'admin') {\n    return <Typography variant=\"h6\" color=\"error\">Access Denied</Typography>;\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(false);\n\n    if (!name.trim() || !address.trim()) {\n      setError(\"Name and Address are required.\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await createBranch({ name: name.trim(), address: address.trim() });\n      setSuccess(true);\n      setName(\"\");\n      setAddress(\"\");\n      // Optionally, navigate to branches list or another page\n      navigate(0); // Reload the page to fetch new branches\n    } catch (err: any) {\n      console.error('Error creating branch:', err);\n      setError(err.response?.data?.message || 'Failed to create branch.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ mt: 4 }}>\n      <Typography variant=\"h5\" gutterBottom>\n        Create New Branch\n      </Typography>\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>Branch created successfully!</Alert>}\n      <form onSubmit={handleSubmit}>\n        <TextField\n          label=\"Branch Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          fullWidth\n          required\n          sx={{ mb: 2 }}\n        />\n        <TextField\n          label=\"Address\"\n          value={address}\n          onChange={(e) => setAddress(e.target.value)}\n          fullWidth\n          required\n          multiline\n          rows={3}\n          sx={{ mb: 2 }}\n        />\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\" disabled={loading}>\n          {loading ? 'Creating...' : 'Create Branch'}\n        </Button>\n      </form>\n    </Container>\n  );\n};\n\nexport default CreateBranch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}