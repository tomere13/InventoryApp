{"ast":null,"code":"var _jsxFileName = \"/Users/tomer/Documents/Tomer/Personal-Projects/Inventory-Managment-Project/Frontend/src/components/SendReport.tsx\",\n  _s = $RefreshSig$();\n// src/components/SendReport.tsx\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"../utils/axiosInstance\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\n// Import MUI components\nimport { Container, Typography, Table, TableHead, TableBody, TableRow, TableCell, TextField, Button, Card, CircularProgress, Snackbar, Alert } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SendReport = () => {\n  _s();\n  const {\n    branchId\n  } = useParams();\n  const {\n    role\n  } = useContext(AuthContext); // Access user role from context\n  const navigate = useNavigate();\n  const [items, setItems] = useState([]);\n  const [stockData, setStockData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  useEffect(() => {\n    console.log(1);\n    if (!branchId) {\n      setError(\"No branch ID provided.\");\n      return;\n    }\n    setLoading(true);\n    axios.get(`/api/${branchId}/items`).then(response => {\n      const filteredItems = response.data.filter(item => item.branch === branchId);\n      setItems(filteredItems);\n\n      // Initialize stockData with current stock as 0 or existing value\n      const initialStock = {};\n      filteredItems.forEach(item => {\n        initialStock[item._id] = item.quantity; // Assuming initial stock is the current quantity\n      });\n      setStockData(initialStock);\n    }).catch(err => {\n      console.error(err);\n      setError(\"Failed to fetch items. Please try again later.\");\n    }).finally(() => setLoading(false));\n  }, [branchId]);\n  const handleStockChange = (e, itemId) => {\n    const value = parseInt(e.target.value, 10);\n    if (!isNaN(value) && value >= 0) {\n      setStockData({\n        ...stockData,\n        [itemId]: value\n      });\n    }\n  };\n  const handleSubmit = async () => {\n    setSubmitting(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    // Prepare the stock report data\n    const reportData = items.map(item => ({\n      itemId: item._id,\n      currentStock: stockData[item._id]\n    }));\n    try {\n      console.log(1);\n      const response = await axios.post(`/api/${branchId}/sendreport`, {\n        stockReport: reportData\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      setSuccess(\"Report submitted successfully. An email has been sent.\");\n      // Optionally, navigate to another page\n      // navigate(`/branch/${branchId}/items`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to submit the report. Please try again.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Handle closing of Snackbar\n  const handleCloseSnackbar = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setError(\"\");\n    setSuccess(\"\");\n  };\n\n  // Ensure that only employees can access this page\n  useEffect(() => {\n    if (role !== \"employee\") {\n      setError(\"You do not have permission to access this page.\");\n      // Optionally, navigate away\n      // navigate(\"/\");\n    }\n  }, [role, navigate]);\n  const isFormValid = () => {\n    return items.every(item => {\n      const stock = stockData[item._id];\n      return stock !== undefined && stock >= 0;\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      align: \"center\",\n      gutterBottom: true,\n      children: \"\\u05D3\\u05D5\\\"\\u05D7 \\u05D4\\u05D6\\u05E0\\u05D4 \\u05DC\\u05DE\\u05DC\\u05D0\\u05D9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        backgroundColor: \"rgba(255, 255, 255, 0.85)\",\n        borderRadius: 4,\n        boxShadow: 6,\n        padding: {\n          xs: 2,\n          md: 4\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u05E9\\u05DD \\u05D4\\u05DE\\u05D5\\u05E6\\u05E8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u05EA\\u05D9\\u05D0\\u05D5\\u05E8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u05DB\\u05DE\\u05D5\\u05EA \\u05E0\\u05D5\\u05DB\\u05D7\\u05D9\\u05EA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u05DB\\u05DE\\u05D5\\u05EA \\u05DC\\u05D4\\u05D6\\u05E0\\u05D4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: items.map(item => /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.description || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"number\",\n                inputProps: {\n                  min: 0\n                },\n                value: stockData[item._id] || \"\",\n                onChange: e => handleStockChange(e, item._id),\n                variant: \"outlined\",\n                size: \"small\",\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: handleSubmit,\n        sx: {\n          mt: 3\n        },\n        disabled: submitting || !isFormValid(),\n        children: submitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }, this) : \"שלח דו\\\"ח\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!error,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: \"error\",\n        sx: {\n          width: \"100%\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!success,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: \"success\",\n        sx: {\n          width: \"100%\"\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(SendReport, \"EPSMBpQBQ6mRRPj/Oe2Fsvfbamk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SendReport;\nexport default SendReport;\nvar _c;\n$RefreshReg$(_c, \"SendReport\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","useNavigate","useParams","AuthContext","Container","Typography","Table","TableHead","TableBody","TableRow","TableCell","TextField","Button","Card","CircularProgress","Snackbar","Alert","jsxDEV","_jsxDEV","SendReport","_s","branchId","role","navigate","items","setItems","stockData","setStockData","loading","setLoading","submitting","setSubmitting","error","setError","success","setSuccess","console","log","get","then","response","filteredItems","data","filter","item","branch","initialStock","forEach","_id","quantity","catch","err","finally","handleStockChange","e","itemId","value","parseInt","target","isNaN","handleSubmit","reportData","map","currentStock","post","stockReport","headers","_err$response","_err$response$data","message","handleCloseSnackbar","event","reason","isFormValid","every","stock","undefined","maxWidth","sx","display","justifyContent","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","mb","variant","align","gutterBottom","backgroundColor","borderRadius","boxShadow","padding","xs","md","hover","name","description","type","inputProps","min","onChange","size","fullWidth","color","onClick","disabled","open","autoHideDuration","onClose","severity","width","_c","$RefreshReg$"],"sources":["/Users/tomer/Documents/Tomer/Personal-Projects/Inventory-Managment-Project/Frontend/src/components/SendReport.tsx"],"sourcesContent":["// src/components/SendReport.tsx\n\nimport React, { useState, useEffect, useContext, ChangeEvent } from \"react\";\nimport axios from \"../utils/axiosInstance\";\nimport { IItem, IStockReport } from \"../../../shared/types\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\n// Import MUI components\nimport {\n  Container,\n  Typography,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  TextField,\n  Button,\n  Card,\n  CircularProgress,\n  Snackbar,\n  Alert,\n} from \"@mui/material\";\n\nconst SendReport: React.FC = () => {\n  const { branchId } = useParams<{ branchId: string }>();\n  const { role } = useContext(AuthContext); // Access user role from context\n  const navigate = useNavigate();\n\n  const [items, setItems] = useState<IItem[]>([]);\n  const [stockData, setStockData] = useState<Record<string, number>>({});\n  const [loading, setLoading] = useState<boolean>(false);\n  const [submitting, setSubmitting] = useState<boolean>(false);\n  const [error, setError] = useState<string>(\"\");\n  const [success, setSuccess] = useState<string>(\"\");\n\n  useEffect(() => {\n    console.log(1);\n    \n    if (!branchId) {\n      setError(\"No branch ID provided.\");\n      return;\n    }\n\n    setLoading(true);\n    axios\n      .get<IItem[]>(`/api/${branchId}/items`)\n      .then((response) => {\n        const filteredItems = response.data.filter(\n          (item) => item.branch === branchId\n        );\n        setItems(filteredItems);\n\n        // Initialize stockData with current stock as 0 or existing value\n        const initialStock: Record<string, number> = {};\n        filteredItems.forEach((item) => {\n          initialStock[item._id] = item.quantity; // Assuming initial stock is the current quantity\n        });\n        setStockData(initialStock);\n      })\n      .catch((err) => {\n        console.error(err);\n        setError(\"Failed to fetch items. Please try again later.\");\n      })\n      .finally(() => setLoading(false));\n  }, [branchId]);\n\n  const handleStockChange = (\n    e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n    itemId: string\n  ) => {\n    const value = parseInt(e.target.value, 10);\n    if (!isNaN(value) && value >= 0) {\n      setStockData({\n        ...stockData,\n        [itemId]: value,\n      });\n    }\n  };\n\n  const handleSubmit = async () => {\n    setSubmitting(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    // Prepare the stock report data\n    const reportData: IStockReport[] = items.map((item) => ({\n      itemId: item._id,\n      currentStock: stockData[item._id],\n    }));\n\n    try {\n      console.log(1);\n\n      const response = await axios.post(\n        `/api/${branchId}/sendreport`,\n        { stockReport: reportData },\n        { headers: { \"Content-Type\": \"application/json\" } }\n      );\n\n      setSuccess(\"Report submitted successfully. An email has been sent.\");\n      // Optionally, navigate to another page\n      // navigate(`/branch/${branchId}/items`);\n    } catch (err: any) {\n      console.error(err);\n      setError(\n        err.response?.data?.message ||\n          \"Failed to submit the report. Please try again.\"\n      );\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Handle closing of Snackbar\n  const handleCloseSnackbar = (\n    event?: React.SyntheticEvent | Event,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setError(\"\");\n    setSuccess(\"\");\n  };\n\n  // Ensure that only employees can access this page\n  useEffect(() => {\n    if (role !== \"employee\") {\n      setError(\"You do not have permission to access this page.\");\n      // Optionally, navigate away\n      // navigate(\"/\");\n    }\n  }, [role, navigate]);\n\n  const isFormValid = () => {\n    return items.every((item) => {\n      const stock = stockData[item._id];\n      return stock !== undefined && stock >= 0;\n    });\n  };\n\n  if (loading) {\n    return (\n      <Container\n        maxWidth=\"md\"\n        sx={{ display: \"flex\", justifyContent: \"center\", mt: 4 }}\n      >\n        <CircularProgress />\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\n      <Typography variant=\"h4\" align=\"center\" gutterBottom>\n        דו\"ח הזנה למלאי\n      </Typography>\n\n      <Card\n        sx={{\n          backgroundColor: \"rgba(255, 255, 255, 0.85)\",\n          borderRadius: 4,\n          boxShadow: 6,\n          padding: { xs: 2, md: 4 },\n        }}\n      >\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>\n                <strong>שם המוצר</strong>\n              </TableCell>\n              <TableCell>\n                <strong>תיאור</strong>\n              </TableCell>\n              <TableCell>\n                <strong>כמות נוכחית</strong>\n              </TableCell>\n              <TableCell>\n                <strong>כמות להזנה</strong>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {items.map((item) => (\n              <TableRow key={item._id} hover>\n                <TableCell>{item.name}</TableCell>\n                <TableCell>{item.description || \"N/A\"}</TableCell>\n                <TableCell>{item.quantity}</TableCell>\n                <TableCell>\n                  <TextField\n                    type=\"number\"\n                    inputProps={{ min: 0 }}\n                    value={stockData[item._id] || \"\"}\n                    onChange={(e) => handleStockChange(e, item._id)}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    fullWidth\n                  />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleSubmit}\n          sx={{ mt: 3 }}\n          disabled={submitting || !isFormValid()}\n        >\n          {submitting ? <CircularProgress size={24} /> : \"שלח דו\\\"ח\"}\n        </Button>\n      </Card>\n\n      {/* Error Snackbar */}\n      <Snackbar\n        open={!!error}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n      >\n        <Alert onClose={handleCloseSnackbar} severity=\"error\" sx={{ width: \"100%\" }}>\n          {error}\n        </Alert>\n      </Snackbar>\n\n      {/* Success Snackbar */}\n      <Snackbar\n        open={!!success}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n      >\n        <Alert onClose={handleCloseSnackbar} severity=\"success\" sx={{ width: \"100%\" }}>\n          {success}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default SendReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}